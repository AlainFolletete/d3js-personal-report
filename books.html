<html>
	<head>
		<script src="http://d3js.org/d3.v3.min.js"></script>		
	</head>
	<style type="text/css">
	body {
	  font: 10px sans-serif;
	}

	.bg {
	  fill: #eee;
	}

	line, path {
	  fill: none;
	  stroke: #000;
	  shape-rendering: crispEdges;
	}

	</style>
	<body>
	<script type="text/javascript">
		var dataset = [
			{ title: 'The Four Hour Workweek', date_start: '09-01-2012', date_end: '08-02-2012', grade: '4' },
			{ title: 'Predictably Irrational', date_start: '06-02-2012', date_end: '27-02-2012', grade: '5' },
			{ title: 'The Art Of The Start', date_start: '24-02-2012', date_end: '14-03-2012', grade: '2' },
			{ title: 'Never Eat Alone', date_start: '14-03-2012', date_end: '28-03-2012', grade: '3' },
			{ title: 'Made To Stick', date_start: '14-04-2012', date_end: '16-06-2012', grade: '4' },
			{ title: 'Blue Ocean Strategy', date_start: '18-06-2012', date_end: '01-07-2012', grade: '1' },
			{ title: 'Competitive Strategy', date_start: '01-08-2012', date_end: '08-09-2012', grade: '5' },
			{ title: 'Competitive Strategy', date_start: '20-12-2012', date_end: '02-01-2013', grade: '2' }
		];

		var rect_h = 15,
			w = 800,
			h = dataset.length * rect_h, 
			padding = 20;

		

		var parse = d3.time.format.utc("%d-%m-%Y").parse;
		var x = d3.time.scale()
						.range([0, 800])
						.domain([parse('1-1-2012'), parse('31-12-2012')]);

		var color = d3.scale.linear()
							.range(['#F2EDD8', '#F7CD11'])
							.domain([0, 5])

		var xAxis = d3.svg.axis()
						.scale(x)
						.orient('bottom')
						.tickFormat(d3.time.format.utc("%b"));;

		var svg = d3.select('body')
					.append('svg')
					.attr('width', w + padding * 2)
					.attr('height', h + padding * 2)
					.attr('transform', 'translate('+padding+','+ padding +')');

		svg.append('g')
			.attr('class', 'x axis')
			.attr('transform', 'translate('+padding+','+ h  +')')
			.call(xAxis);

		// center months labels
		svg.selectAll('.x.axis text')
			.style('text-anchor', 'middle')
			.attr('x', -w / 12 / 2);

		svg.selectAll('rect')
			.data(dataset)
			.enter()
			.append('rect')
			.attr('x', function(d) { return x(parse(d.date_start))})
			.attr('y', function(d, i) { return (i * rect_h)})
			.attr('width', function(d) { return x(parse(d.date_end)) - x(parse(d.date_start)) })
			.attr('height', rect_h - 1)
			.attr('fill', function(d) { return color(d.grade) });

	</script>
	</body>
</html>
